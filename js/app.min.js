(()=>{"use strict";let e=!0,t=(e=500)=>{document.documentElement.classList.contains("lock")?o(e):n(e)},o=(t=500)=>{let o=document.querySelector("body");if(e){let n=document.querySelectorAll("[data-lp]");setTimeout((()=>{for(let e=0;e<n.length;e++){n[e].style.paddingRight="0px"}o.style.paddingRight="0px",document.documentElement.classList.remove("lock")}),t),e=!1,setTimeout((function(){e=!0}),t)}},n=(t=500)=>{let o=document.querySelector("body");if(e){let n=document.querySelectorAll("[data-lp]");for(let e=0;e<n.length;e++){n[e].style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px"}o.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",document.documentElement.classList.add("lock"),e=!1,setTimeout((function(){e=!0}),t)}};const r=()=>{([...document.querySelector(".menu-content-item._active").querySelectorAll(".products__item")].filter((e=>"none"==getComputedStyle(e).display)).length||0)>0?document.querySelector(".menu-tabs__refresh").classList.remove("hidden"):document.querySelector(".menu-tabs__refresh").classList.add("hidden")};((e,t,o,n,c)=>{const s=document.querySelector(e);if(!s)return;const a=s.querySelectorAll(t),l=s.querySelectorAll(o),i=()=>{l.forEach((e=>{e.classList.remove(c)})),a.forEach((e=>{e.classList.remove(n)}))},d=(e=0)=>{l[e].classList.add(c),a[e].classList.add(n),(e=>{e.querySelectorAll(".products__item").forEach((e=>e.style=""))})(l[e]),r()};i(),d(),s.addEventListener("click",(e=>{const o=e.target;(o.classList.contains(t.replace(/\./,""))||o.parentNode.classList.contains(t.replace(/\./,"")))&&a.forEach(((e,t)=>{o!=e&&o.parentNode!=e||(i(),d(t))}))}))})(".menu-tabs",".menu-tabs__header-item",".menu-tabs__content-item","_active","_active");(()=>{if(!document.querySelector(".html-menu"))return;const e=document.querySelector(".modal"),t=e.querySelectorAll("input"),o=document.querySelectorAll(".product-card__link"),n=(e,t)=>{(async function(e){const t=await fetch(e);if(!t.ok)throw new Error(`Ошибка по адресу "${e}", статус ошибки ${t.status}!`);return await t.json()})("./files/products.json").then((o=>{r(o.find((t=>t.name==e)),t)}))},r=(t,o)=>{t&&(e.querySelector(".modal__title").textContent=t.name,e.querySelector(".modal__text").textContent=t.description,e.querySelector(".modal__total-value span").textContent=t.price,e.querySelector(".modal__total-value span").dataset.value=t.price,e.querySelector(".modal__image img").src=o.src,e.querySelectorAll(".modal__image source").forEach((e=>{e.srcset=o.srcset})),c(),e.classList.remove("hidden"),document.documentElement.classList.add("lock"))};o.forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault();const o=t.target.closest(".product-card__link");if(!o&&!e)return;const r={src:o.querySelector(".product-card__image img").dataset.src,srcset:o.querySelector(".product-card__image source")?o.querySelector(".product-card__image source").dataset.srcset:""};n(o.querySelector(".product-card__title").textContent,r)}))}));const c=()=>{let o=e.querySelector(".modal__total-value span").dataset.value;t.forEach((e=>o=+o+ +(e.checked?e.dataset.value:0)));const n=new Intl.NumberFormat("en",{style:"decimal",minimumFractionDigits:2}).format(o);e.querySelector(".modal__total-value span").textContent=n};e.addEventListener("click",(o=>{o.target.closest(".modal__wrapper")&&!o.target.closest(".modal__btn")||(e.classList.add("hidden"),document.documentElement.classList.remove("lock"),t.forEach((e=>e.checked=e.defaultChecked)))})),t.forEach((e=>e.addEventListener("change",c)))})();(()=>{const e=document.querySelector(".menu-tabs");if(!e)return;const t=e.querySelector(".menu-tabs__refresh");t.addEventListener("click",(o=>{o.preventDefault();e.querySelectorAll("._active .products__item").forEach((e=>{e.style.display="block"})),t.classList.add("hidden")})),window.addEventListener("resize",(()=>{e.querySelectorAll(".products__item").forEach((e=>e.style="")),r()}))})();(()=>{const e=document.querySelector(".favorite-slider");if(!e)return;const t=e.querySelector(".favorite-slider__wrapper"),o=e.querySelector(".favorite-slider__swiper"),n=o.querySelectorAll(".favorite-slider__slide"),r=e.querySelectorAll(".favorite-slider__pagination > span"),c=e.querySelector(".favorite-slider__nav-button_prev"),s=e.querySelector(".favorite-slider__nav-button_next");let a=0;const l={init:0,current:0,min:0,max:0};let i=0;const d=(e="")=>{const t=+getComputedStyle(n[0]).width.replace("px","")+ +getComputedStyle(o).gap.replace("px",""),c=n.length;switch(n[a].removeEventListener("touchmove",v),n[a].removeEventListener("mouseleave",v),n[a].removeEventListener("touchend",p),n[a].removeEventListener("mouseup",p),r.forEach(((e,t)=>{e.closest("._active")&&(a=t)})),e){case"prev":0===a?a=c-1:a--;break;case"next":a===c-1?a=0:a++}r.forEach(((e,t)=>{e.classList.remove("_active"),e.classList.remove("_paused"),t===a&&e.classList.add("_active")})),o.style.transition="all 1s ease 0s",o.style.transform=`translateX(-${t*a}px)`,l.init=0,l.current=0,n[a].addEventListener("touchstart",h),n[a].addEventListener("mousedown",h)},u=()=>{e.querySelector("span._active").classList.add("_paused")},m=()=>{e.querySelector("span._active").classList.remove("_paused")},h=e=>{e.preventDefault(),u();const o=t.getBoundingClientRect();l.init=e.clientX||e.changedTouches[0].clientX,i=e.clientY||e.changedTouches[0].clientY,l.min=o.left,l.max=o.right,n[a].addEventListener("touchmove",v),n[a].addEventListener("mouseleave",v),n[a].addEventListener("touchend",p),n[a].addEventListener("mouseup",p)},p=e=>{e.preventDefault(),m(),l.current=e.clientX||e.changedTouches[0].clientX,Math.abs(l.current-l.init)>20?l.current>l.init?d("prev"):d("next"):d()},v=e=>{l.current=e.clientX||e.changedTouches[0].clientX,window.scrollBy(0,i-(e.clientY||e.changedTouches[0].clientY)),l.current>l.max?d("prev"):l.current<l.min&&d("next")};c.addEventListener("click",(()=>d("prev"))),s.addEventListener("click",(()=>d("next"))),r.forEach((e=>{e.addEventListener("animationend",(()=>d("next")))})),n.forEach((e=>{e.addEventListener("click",(e=>e.preventDefault())),e.addEventListener("mouseenter",u),e.addEventListener("mouseleave",m)})),d()})(),console.log("CROSS CHECK. PART 1 (100/100)"),console.log("1. Checking validation of pages (18/18)"),console.log("2. The layout matches the design: (40/40)"),console.log("3. CSS Requirements: (10/10)"),console.log("4. Interactivity: (32/32)"),console.log("\n"),console.log("CROSS CHECK. PART 2 (90/90)"),console.log("1. The layout of the pages aligns the design at a screen width of 1440px (14/14)"),console.log("2. The layout of the pages aligns the design at a screen width of 768px (14/14)"),console.log("3. The layout of the pages aligns the design at a screen width of 380px (14/14)"),console.log("4. There is no horizontal scrollbar at all screen width up to 380px inclusive (20/20)"),console.log("5. During smooth resizing of the browser window from 1440px to 380px, nothing breaks (8/8)"),console.log("6. At screen widths of 768px and below, the hamburger menu icon appears instead of the navigation bar (4/4)"),console.log("7. Hover effects are active on desktop devices and are disabled for mobile devices on both pages (4/4)"),console.log("8. The layout for both pages is validated and error-free according to the W3C Validator (12/12)");document.querySelectorAll(".menu__link").forEach((e=>e.addEventListener("click",(()=>(o(),void document.documentElement.classList.remove("menu-open")))))),function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)})),"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||document.documentElement.classList.add("no-touch"),window.addEventListener("load",(()=>{const e=document.querySelectorAll("[data-src], [data-srcset], [data-poster]");e&&e.forEach((e=>{e.dataset.src&&(e.src=e.dataset.src),e.dataset.srcset&&(e.srcset=e.dataset.srcset),e.dataset.poster&&(e.poster=e.dataset.poster)}))})),document.querySelector(".icon-menu")&&document.addEventListener("click",(function(o){e&&o.target.closest(".icon-menu")&&(t(),document.documentElement.classList.toggle("menu-open"))}))})();